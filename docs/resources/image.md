---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "windbag_image Resource - terraform-provider-windbag"
subcategory: ""
description: |-
  Specify the image to build.
---

# Resource `windbag_image`

Specify the image to build.

## Example Usage

```terraform
resource "windbag_image" "example" {

  # specify the path to build,
  # like "docker build ...",
  # default is the current directory.
  path = ""

  # specify the build-time arguments,
  # like "docker build --build-arg=...".
  build_arg = {}

  # specify the name of the building Dockerfile,
  # like "docker build --file=...",
  # default is "Dockerfile".
  file = ""

  # specify to remove intermediate containers,
  # like "docker build --force-rm"
  # default is "false".
  force_rm = false

  # specify the isolation technology of container,
  # like "docker build --isolation=...",
  # default is "process".
  isolation = ""

  # specify the metadata label,
  # like "docker build --label=...".
  label = {}

  # specify to do not use the cache,
  # like "docker build --no-cache",
  # default is "false".
  no_cache = false

  # specify to remove intermediate containers after a successful build,
  # like "docker build --rm"
  # default is "true".
  rm = true

  # specify the list of the built artifact name,
  # like "docker build --tag=...".
  tag = []

  # specify the target of build stage to build,
  # like "docker build --target=...".
  target = ""

  # specify to always push the built artifact,
  # default is "false".
  force_push = false

  # specify to push the build artifact if the digest has changed,
  # default is "true".
  push = true

  # specify the workers to build image,
  # and manifest the image in the latest release worker.
  build_worker {

    # specify the address of worker.
    address = ""

    # specify the working directory of worker.
    work_dir = ""

    # specify to use SSH to login the worker.
    ssh {

      # specify the username for authenticating the worker,
      # default is "root".
      username = ""

      # specify the password for authenticating the worker.
      password = ""

      # specify the content of Private Key to authenticate.
      key = ""

      # specify the content of Certificate to sign the Private Key.
      cert = ""

      # specify to use ssh-agent to manage the login certificate,
      # default is "false".
      with_agent = false

    }
  }

}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **build_worker** (Block Set, Min: 1) Specify the workers to build. (see [below for nested schema](#nestedblock--build_worker))
- **tag** (List of String) Specify the name of the built artifact, and use the repository of the last item as this resource ID.

### Optional

- **build_arg** (Map of String) Specify the build-time arguments.
- **file** (String) Specify the path of the building Dockerfile.
- **force_rm** (Boolean) Specify to remove intermediate containers. Defaults to `false`.
- **id** (String) The ID of this resource.
- **isolation** (String) Specify the isolation technology of container.
- **label** (Map of String) Specify the metadata label.
- **no_cache** (Boolean) Specify the isolation technology of container. Defaults to `false`.
- **path** (String) Specify the path to build.
- **push** (Boolean) Specify to push the build artifact. Defaults to `true`.
- **rm** (Boolean) Specify to remove intermediate containers after a successful build. Defaults to `true`.
- **target** (String) Specify the target of build stage to build.

<a id="nestedblock--build_worker"></a>
### Nested Schema for `build_worker`

Required:

- **address** (String) Specify the address of worker.
- **ssh** (Block Set, Min: 1, Max: 1) Specify to use SSH to login the worker. (see [below for nested schema](#nestedblock--build_worker--ssh))

Optional:

- **work_dir** (String) Specify the working directory of worker. Defaults to `C:/etc/windbag`.

<a id="nestedblock--build_worker--ssh"></a>
### Nested Schema for `build_worker.ssh`

Optional:

- **cert** (String) Specify the content of Certificate to authenticate.
- **key** (String, Sensitive) Specify the content of Private Key to authenticate.
- **password** (String, Sensitive) Specify the password for authenticating the worker.
- **username** (String) Specify the username for authenticating the worker. Defaults to `root`.
- **with_agent** (Boolean) Specify to use ssh-agent to manage the login credential. Defaults to `false`.


